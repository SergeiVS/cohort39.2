# Lesson 13 Практика построения взаимодействия между объектами

Конечно, давайте сформулируем тексты для разделов "Основные Концепции Java" и "Взаимодействие между объектами".

---

### Основные Концепции Java

#### Классы и Объекты
В Java, всё построено на основе классов и объектов. 
Класс — это как чертёж или шаблон, из которого создаются объекты. 
Этот шаблон определяет состояние и поведение, которыми будут обладать его объекты. 

Например, класс `Собака` может иметь свойства `порода`, `цвет` и методы `лай`, `есть`.

Создание класса в Java:
```java
public class Собака {
    String порода;
    String цвет;

    void лай() {
        // Код для лая
    }

    void есть() {
        // Код для еды
    }
}
```

Создание объекта из класса:
```java
Собака мояСобака = new Собака();
```

#### Свойства и Методы
Свойства (или поля) класса - это характеристики объектов, которые они могут иметь. 
В нашем примере с классом `Собака`, `порода` и `цвет` являются свойствами.

Методы определяют поведение объектов класса. 
Они как функции, которые могут быть вызваны на объектах этого класса. 
В примере выше, `лай` и `есть` являются методами.

---

### Взаимодействие между объектами

#### Методы
Методы позволяют объектам взаимодействовать друг с другом. 
Например, объект `человек` может иметь метод `гулятьССобакой(Собака собака)`, который взаимодействует с объектом `собака`.

Пример метода:
```java
public class Человек {
    void гулятьССобакой(Собака собака) {
        // Код для прогулки с собакой
    }
}
```

#### Параметры и Возвращаемые значения
Параметры метода позволяют передать данные или объекты в метод для обработки. 
Возвращаемые значения позволяют методу передавать данные обратно вызывающему коду.

Пример метода с параметром и возвращаемым значением:
```java
public class Собака {
    String определитьНастроение() {
        // Код для определения настроения
        return настроение;
    }
}
```

#### Примеры и Практические задачи
Рассмотрим практический пример. 
Предположим, у нас есть класс `Собака` и `Человек`. 
Человек может `гулять` с собакой и `кормить` её. 
Каждый из этих взаимодействий будет представлять собой методы, вызываемые на объектах классов.

```java
public class Человек {
    void кормитьСобаку(Собака собака) {
        собака.есть();
    }

    void гулятьССобакой(Собака собака) {
        // Действия для прогулки с собакой
    }
}
```

### Вложенные Объекты в Java: Автомобиль и Двигатель

#### Введение в Композицию
Композиция — это концепция ООП, при которой один объект содержит другой объект в качестве своего поля. 
Это отношение обычно описывается как "имеет-а" (has-a). Например, автомобиль "имеет" двигатель.

#### Пример: Классы Автомобиль и Двигатель
Давайте рассмотрим классы `Автомобиль` и `Двигатель`. 
Двигатель является отдельным объектом со своими свойствами и методами, но он также является частью автомобиля.

##### Класс Двигатель
```java
public class Двигатель {
    private String тип;
    private int мощность;

    public Двигатель(String тип, int мощность) {
        this.тип = тип;
        this.мощность = мощность;
    }

    public void запустить() {
        // Код для запуска двигателя
    }

    // Геттеры и сеттеры для типа и мощности
}
```

##### Класс Автомобиль
```java
public class Автомобиль {
    private String марка;
    private Двигатель двигатель;

    public Автомобиль(String марка, Двигатель двигатель) {
        this.марка = марка;
        this.двигатель = двигатель;
    }

    public void запуститьАвтомобиль() {
        двигатель.запустить();
        // Дополнительный код для запуска автомобиля
    }

    // Геттеры и сеттеры для марки и двигателя
}
```

#### Объяснение Композиции
В приведенном примере класс `Автомобиль` имеет объект `Двигатель` как поле. 
Это означает, что каждый объект `Автомобиль` будет содержать в себе объект `Двигатель`. 
Эта связь позволяет `Автомобилю` делегировать определённые задачи своему `Двигателю`, например, запуск.

#### Преимущества Композиции
1. **Независимость**: Классы `Автомобиль` и `Двигатель` могут развиваться независимо друг от друга.
2. **Переиспользование**: `Двигатель` может быть использован в разных типах автомобилей или даже в других контекстах, не связанных с автомобилями.
3. **Инкапсуляция**: `Автомобиль` контролирует, как и когда используется `Двигатель`, скрывая детали его реализации.

#### Заключение
Использование объектов в качестве полей других объектов — мощный способ строить сложные системы в объектно-ориентированном программировании. 
Он позволяет программистам создавать гибкие и легко расширяемые структуры, поддерживая при этом чистоту и простоту кода.

### Создание и Хранение Объектов в Памяти в Java

#### Объекты и Память в Java
Когда вы работаете с объектами в Java, важно понимать, как они создаются и хранятся в памяти, а также как к ним можно обращаться. 
Для демонстрации рассмотрим уже упомянутые классы `Автомобиль` и `Двигатель`.

#### Создание Объектов
В Java, когда вы создаёте объект с использованием ключевого слова `new`, 
выделение памяти для этого объекта происходит в куче (heap), 
которая является областью памяти для динамического распределения.

##### Пример:
```java
Двигатель двигатель = new Двигатель("бензиновый", 150);
Автомобиль автомобиль = new Автомобиль("Toyota", двигатель);
```

Здесь:
1. `new Двигатель("бензиновый", 150)` создаёт объект `Двигатель` в памяти кучи.
2. `new Автомобиль("Toyota", двигатель)` создаёт объект `Автомобиль`, также в куче, 
3. содержащий ссылку на уже созданный объект `Двигатель`.

#### Хранение Объектов
- **В куче (Heap)**: Все объекты и их поля хранятся в куче. 
- В нашем примере, как объект `Двигатель`, так и объект `Автомобиль` находятся в куче.
- **В стеке (Stack)**: Локальные переменные и ссылки на объекты хранятся в стеке. 
- Например, переменные `двигатель` и `автомобиль` являются ссылками, хранящимися в стеке, 
- и указывающими на соответствующие объекты в куче.

#### Обращение к Объектам
Чтобы обратиться к объекту и получить данные, вы используете ссылку на этот объект. 
После создания объекта, любые действия с ним осуществляются через эту ссылку.

##### Пример обращения:
```java
// Получение мощности двигателя
int мощность = автомобиль.getДвигатель().getМощность();

// Запуск автомобиля
автомобиль.запуститьАвтомобиль();
```

Здесь `автомобиль.getДвигатель()` обращается к объекту `Двигатель`, 
который является частью объекта `Автомобиль`, а `getМощность()` получает данные этого объекта.

#### Визуализация в Памяти

1. **Стек (Stack)**:
    - Содержит ссылки `двигатель` и `автомобиль`.
2. **Куча (Heap)**:
    - Содержит объект `Двигатель` с его полями.
    - Содержит объект `Автомобиль`, включая ссылку на объект `Двигатель`.

Это представление помогает понять, что объекты — это структуры данных в памяти, доступ к которым осуществляется через ссылки. 
Операции над объектами, такие как изменение их полей или вызов их методов, происходят через эти ссылки.